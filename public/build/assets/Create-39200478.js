import{P as U}from"./PageTitle-598f0528.js";import{E as V}from"./Error-058c6d16.js";import{S as x}from"./Success-c1d5e79e.js";import{U as E}from"./util-54581a61.js";import{_ as C,r as _,o as i,c as n,b as p,w as f,g as S,f as l,a as o,j as T,k as c,m as y,n as u,F as a,l as d,v as h,d as v,t as m}from"./app-0b4e2ce8.js";const I={data(){return{msg:"",isError:!1,isLoading:!1,branches:[],errors:{},form:{nip:"",name:"",email:"",phone:"",birthPlace:"",dateBirth:"",gender:"",position:"",address:"",branchId:""}}},mounted(){this.getBranches(),E.removeInvalidClass()},methods:{getBranches(){let b=["per_page=100","page=1"].join("&");this.$store.dispatch("getData",["branch",b]).then(r=>{this.branches=r.data}).catch(r=>{r.response.data.status=="ERROR"&&r.response.data.statusCode==500&&(this.isError=!0,this.msg=r.response.data.message)})},handleSubmit(){this.isLoading=!0,this.errors={},this.$store.dispatch("postData",["user/branch",this.form]).then(b=>{$("#successModal").modal("show"),this.msg="data berhasil ditambahkan.",this.isLoading=!1}).catch(b=>{this.isLoading=!1,this.errors=b.response.data.messages,b.response.data.status=="ERROR"&&b.response.data.statusCode==500&&(this.isError=!0,this.msg=b.response.data.message)})}},components:{PageTitle:U,Success:x,Error:V}},N={class:"breadcrumb m-0"},w={class:"breadcrumb-item"},D={class:"breadcrumb-item"},R=o("li",{class:"breadcrumb-item active"},"Tambah Pengguna",-1),A={class:"card"},M={class:"card-body"},j={class:"mb-2"},F=o("label",null,"Cabang API",-1),J=["disabled"],O=o("option",{value:"",selected:"",disabled:""},null,-1),z=["value"],H={class:"mb-2"},K=o("label",null,"NIP",-1),q=["disabled"],G={class:"mb-2"},Q=o("label",null,"Nama Lengkap",-1),W=["disabled"],X={class:"mb-2"},Y=o("label",null,"Email",-1),Z=["disabled"],ee={class:"mb-2"},se=o("label",null,"Telepon",-1),oe=["disabled"],re={class:"mb-2"},ie=o("label",null,"Tempat Lahir",-1),ne=["disabled"],te={class:"mb-2"},le=o("label",null,"Tanggal Lahir",-1),ae=["disabled"],de={class:"mb-2"},me=o("label",null,"Jenis Kelamin",-1),ce=["disabled"],ue=o("option",{value:"",selected:"",disabled:""},null,-1),be=o("option",{value:"L"},"Laki-laki",-1),he=o("option",{value:"P"},"Perempuan",-1),pe=[ue,be,he],_e={class:"mb-2"},fe=o("label",null,"Jabatan",-1),ve=["disabled"],ge={class:"mb-2"},ke=o("label",null,"Alamat",-1),ye=["disabled"],Le={class:"card-footer border-top d-flex justify-content-between"},Be={key:0,class:"btn btn-sm btn-primary"},Pe={key:1,class:"btn btn-sm btn-primary",type:"button",disabled:""},Ue=o("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},null,-1);function Ve(b,r,xe,Ee,e,k){const g=_("router-link"),L=_("PageTitle"),B=_("Error"),P=_("Success");return i(),n(a,null,[p(L,{title:"Tambah Pengguna Admin Cabang"},{default:f(()=>[o("ol",N,[o("li",w,[p(g,{to:{name:"Dashboard"}},{default:f(()=>[v("Dashboard")]),_:1})]),o("li",D,[p(g,{to:{name:"User Branch"}},{default:f(()=>[v("Admin Cabang")]),_:1})]),R])]),_:1}),e.isError?(i(),S(B,{key:0,message:e.msg},null,8,["message"])):l("",!0),o("div",A,[o("form",{onSubmit:r[10]||(r[10]=T((...s)=>k.handleSubmit&&k.handleSubmit(...s),["prevent"]))},[o("div",M,[o("div",j,[F,c(o("select",{class:u(["form-select form-validation",{"is-invalid":e.errors.branchId}]),"onUpdate:modelValue":r[0]||(r[0]=s=>e.form.branchId=s),disabled:e.isLoading},[O,(i(!0),n(a,null,d(e.branches,(s,t)=>(i(),n("option",{key:t,value:s.uuid},m(s.branchName),9,z))),128))],10,J),[[y,e.form.branchId]]),e.errors.branchId?(i(!0),n(a,{key:0},d(e.errors.branchId,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",H,[K,c(o("input",{type:"number",class:u(["form-control form-validation",{"is-invalid":e.errors.nip}]),"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.nip=s),disabled:e.isLoading},null,10,q),[[h,e.form.nip]]),e.errors.nip?(i(!0),n(a,{key:0},d(e.errors.nip,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",G,[Q,c(o("input",{type:"text",class:u(["form-control form-validation",{"is-invalid":e.errors.name}]),"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.name=s),disabled:e.isLoading},null,10,W),[[h,e.form.name]]),e.errors.name?(i(!0),n(a,{key:0},d(e.errors.name,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",X,[Y,c(o("input",{type:"text",class:u(["form-control form-validation",{"is-invalid":e.errors.email}]),"onUpdate:modelValue":r[3]||(r[3]=s=>e.form.email=s),disabled:e.isLoading},null,10,Z),[[h,e.form.email]]),e.errors.email?(i(!0),n(a,{key:0},d(e.errors.email,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",ee,[se,c(o("input",{type:"number",class:u(["form-control form-validation",{"is-invalid":e.errors.phone}]),"onUpdate:modelValue":r[4]||(r[4]=s=>e.form.phone=s),disabled:e.isLoading},null,10,oe),[[h,e.form.phone]]),e.errors.phone?(i(!0),n(a,{key:0},d(e.errors.phone,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",re,[ie,c(o("input",{type:"text",class:u(["form-control form-validation",{"is-invalid":e.errors.birthPlace}]),"onUpdate:modelValue":r[5]||(r[5]=s=>e.form.birthPlace=s),disabled:e.isLoading},null,10,ne),[[h,e.form.birthPlace]]),e.errors.birthPlace?(i(!0),n(a,{key:0},d(e.errors.birthPlace,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",te,[le,c(o("input",{type:"date",class:u(["form-control form-validation",{"is-invalid":e.errors.dateBirth}]),"onUpdate:modelValue":r[6]||(r[6]=s=>e.form.dateBirth=s),disabled:e.isLoading},null,10,ae),[[h,e.form.dateBirth]]),e.errors.dateBirth?(i(!0),n(a,{key:0},d(e.errors.dateBirth,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",de,[me,c(o("select",{class:u(["form-select form-validation",{"is-invalid":e.errors.gender}]),"onUpdate:modelValue":r[7]||(r[7]=s=>e.form.gender=s),disabled:e.isLoading},pe,10,ce),[[y,e.form.gender]]),e.errors.gender?(i(!0),n(a,{key:0},d(e.errors.gender,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",_e,[fe,c(o("input",{type:"text",class:u(["form-control form-validation",{"is-invalid":e.errors.position}]),"onUpdate:modelValue":r[8]||(r[8]=s=>e.form.position=s),disabled:e.isLoading},null,10,ve),[[h,e.form.position]]),e.errors.position?(i(!0),n(a,{key:0},d(e.errors.position,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)]),o("div",ge,[ke,c(o("textarea",{class:u(["form-control form-validation",{"is-invalid":e.errors.address}]),"onUpdate:modelValue":r[9]||(r[9]=s=>e.form.address=s),disabled:e.isLoading},`\r
                    `,10,ye),[[h,e.form.address]]),e.errors.address?(i(!0),n(a,{key:0},d(e.errors.address,(s,t)=>(i(),n("div",{class:"invalid-feedback",key:t},m(s)+". ",1))),128)):l("",!0)])]),o("div",Le,[p(g,{to:{name:"User Branch"},class:"btn btn-sm btn-secondary",disabled:e.isLoading},{default:f(()=>[v("Batal")]),_:1},8,["disabled"]),e.isLoading?l("",!0):(i(),n("button",Be," Simpan ")),e.isLoading?(i(),n("button",Pe,[Ue,v(" Harap Tunggu... ")])):l("",!0)])],32)]),p(P,{url:{name:"User Branch"},msg:e.msg},null,8,["msg"])],64)}const we=C(I,[["render",Ve]]);export{we as default};
