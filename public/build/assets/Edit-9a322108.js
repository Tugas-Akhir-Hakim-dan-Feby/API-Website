import{P}from"./PageTitle-6608e5c7.js";import{S as v}from"./Success-1f5d5948.js";import{M as E,T as A}from"./TrueFalse-c4993dde.js";import{u as C,A as p}from"./util-94854636.js";import{_ as F,r as d,o as n,c,b as i,w as m,a as t,d as _,k as w,v as b,n as M,F as g,l as S,t as q,f as u,g as y,j as I}from"./app-18f778da.js";const V={props:["id","examId"],data(){return{form:{examPacketId:this.id,question:"",correctAnswer:"",answers:[],answerType:""},errors:{},isLoading:!1}},mounted(){this.getExam()},computed:{answerTypeData(){return C.getAnswerQuestionData(this.form.answerType)}},methods:{getMultipleChoiceData(){return p.MULTIPLE_CHOICE},getTrueFalseData(){return p.TRUE_FALSE},setForm(s){var r;this.form.examPacketId=this.id,this.form.question=s.question,this.form.correctAnswer=(r=s.correctAnswer)==null?void 0:r.answer,this.form.answerType=s.type,s.answers.forEach((l,f)=>{this.form.answers[f]=l.answer})},getExam(){this.isLoading=!0,this.$store.dispatch("showData",["exam",this.examId]).then(s=>{this.isLoading=!1,this.setForm(s.data)}).catch(s=>{this.isLoading=!1,console.log(s)})},handleSubmit(){this.isLoading=!0,this.$store.dispatch("updateData",["exam",this.examId,this.form]).then(s=>{this.isLoading=!1,$("#successModal").modal("show")}).catch(s=>{this.isLoading=!1,this.errors=s.response.data.messages})},answerTrueFalse(s){this.form.answers=s[0],this.form.correctAnswer=s[1]},answerMultipleChoice(s){this.form.answers=s[0],this.form.correctAnswer=s[1]}},components:{PageTitle:P,Success:v,MultipleChoice:E,TrueFalse:A}},B={class:"breadcrumb m-0"},U={class:"breadcrumb-item"},N={class:"breadcrumb-item"},j=t("span",null," Uji Kompetensi ",-1),H={class:"breadcrumb-item"},O=t("span",null," Detail Paket ",-1),Q=t("li",{class:"breadcrumb-item active"},"Edit Pertanyaan",-1),z={class:"card"},J={class:"card-body"},K={class:"mb-2"},R=t("label",{for:"question"},"Pertanyaan",-1),G=["disabled"],W={class:"mb-2"},X=t("label",null,"Pilih Tipe Jawaban",-1),Y={class:"card-footer d-flex justify-content-between"},Z={key:0,class:"btn btn-sm btn-success"},ee={key:1,class:"btn btn-sm btn-success",type:"button",disabled:""},se=t("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},null,-1);function te(s,r,l,f,e,o){const h=d("router-link"),T=d("PageTitle"),k=d("MultipleChoice"),x=d("TrueFalse"),D=d("Success");return n(),c(g,null,[i(T,{title:"Edit Pertanyaan"},{default:m(()=>[t("ol",B,[t("li",U,[i(h,{to:{name:"Dashboard"}},{default:m(()=>[_("Dashboard")]),_:1})]),t("li",N,[i(h,{to:{name:"Exam Packet"}},{default:m(()=>[j]),_:1})]),t("li",H,[i(h,{to:{name:"Exam Packet Detail",params:{id:l.id}}},{default:m(()=>[O]),_:1},8,["to"])]),Q])]),_:1}),t("form",{onSubmit:r[4]||(r[4]=I((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"])),method:"post"},[t("div",z,[t("div",J,[t("div",K,[R,w(t("textarea",{id:"question",class:M(["form-control form-validation",{"is-invalid":e.errors.question}]),"onUpdate:modelValue":r[0]||(r[0]=a=>e.form.question=a),disabled:e.isLoading,rows:"3"},null,10,G),[[b,e.form.question]]),e.errors.question?(n(!0),c(g,{key:0},S(e.errors.question,(a,L)=>(n(),c("div",{class:"invalid-feedback",key:L},q(a)+". ",1))),128)):u("",!0)]),t("div",W,[X,w(t("input",{type:"text",class:"form-control","onUpdate:modelValue":r[1]||(r[1]=a=>o.answerTypeData=a),disabled:"",readonly:""},null,512),[[b,o.answerTypeData]])]),e.form.answerType==o.getMultipleChoiceData()?(n(),y(k,{key:0,onOnAnswers:r[2]||(r[2]=a=>o.answerMultipleChoice(a)),"answers-data":e.form.answers,"correct-answer-data":e.form.correctAnswer,errors:e.errors,"is-loading":e.isLoading,"is-edit":!0},null,8,["answers-data","correct-answer-data","errors","is-loading"])):u("",!0),e.form.answerType==o.getTrueFalseData()?(n(),y(x,{key:1,onAnswers:r[3]||(r[3]=a=>o.answerTrueFalse(a)),"answers-data":e.form.answers,"correct-answer-data":e.form.correctAnswer,errors:e.errors,"is-loading":e.isLoading,"is-edit":!0},null,8,["answers-data","correct-answer-data","errors","is-loading"])):u("",!0)]),t("div",Y,[i(h,{class:"btn btn-sm btn-secondary",to:{name:"Exam Packet Detail",params:{id:l.id}},disabled:e.isLoading},{default:m(()=>[_(" Batal ")]),_:1},8,["to","disabled"]),e.isLoading?u("",!0):(n(),c("button",Z," Simpan ")),e.isLoading?(n(),c("button",ee,[se,_(" Harap Tunggu... ")])):u("",!0)])])],32),i(D,{url:{name:"Exam Packet Detail",params:{id:l.id}},msg:"data berhasil diperbaharui."},null,8,["url","msg"])],64)}const le=F(V,[["render",te]]);export{le as default};
