import{P as V}from"./PageTitle-d62c03d9.js";import{S as B}from"./Success-7008e664.js";import{U as x}from"./util-54581a61.js";import{_ as H,r as P,o as r,c as t,d as f,t as a,b as v,w as k,a as s,j as S,k as u,v as h,n as c,F as m,l as b,f as d,m as T}from"./app-913bfa44.js";const w={props:["id"],data(){return{isLoading:!1,msg:"",form:{nip:"",name:"",email:"",phone:"",birthPlace:"",dateBirth:"",gender:"",position:"",address:""},errors:{}}},mounted(){this.getUser(),x.removeInvalidClass()},methods:{getUser(){this.isLoading=!0,this.$store.dispatch("showData",["user/hub",this.id]).then(n=>{this.isLoading=!1,this.setForm(n.data)}).catch(n=>{this.isLoading=!1,this.errors=n.response.data.messages})},setForm(n){var o,y,L,e,_,p,g;this.form={nip:(o=n.adminHub)==null?void 0:o.nip,name:n.name,email:n.email,phone:(y=n.adminHub)==null?void 0:y.phone,birthPlace:(L=n.adminHub)==null?void 0:L.birthPlace,dateBirth:(e=n.adminHub)==null?void 0:e.dateBirth,gender:(_=n.adminHub)==null?void 0:_.gender,position:(p=n.adminHub)==null?void 0:p.position,address:(g=n.adminHub)==null?void 0:g.address}},handleSubmit(){this.isLoading=!0,this.errors={},this.$store.dispatch("updateData",["user/hub",this.id,this.form]).then(n=>{$("#successModal").modal("show"),this.$emit("onCancel",!0),this.msg="data berhasil diperbaharui.",this.isLoading=!1}).catch(n=>{this.isLoading=!1,this.errors=n.response.data.messages})}},components:{PageTitle:V,Success:B}},C={class:"breadcrumb m-0"},D={class:"breadcrumb-item"},N={class:"breadcrumb-item"},E=s("li",{class:"breadcrumb-item active"},"Edit Pengguna",-1),F={class:"card"},M={class:"card-body"},A={class:"mb-2"},I=s("label",null,"NIP",-1),j=["disabled"],J={class:"mb-2"},z=s("label",null,"Nama Lengkap",-1),K=["disabled"],q={class:"mb-2"},G=s("label",null,"Email",-1),O=["disabled"],Q={class:"mb-2"},R=s("label",null,"Telepon",-1),W=["disabled"],X={class:"mb-2"},Y=s("label",null,"Tempat Lahir",-1),Z=["disabled"],ee={class:"mb-2"},se=s("label",null,"Tanggal Lahir",-1),ie=["disabled"],oe={class:"mb-2"},re=s("label",null,"Jenis Kelamin",-1),te=["disabled"],ne=s("option",{value:"",selected:"",disabled:""},null,-1),le=s("option",{value:"L"},"Laki-laki",-1),de=s("option",{value:"P"},"Perempuan",-1),ae=[ne,le,de],me={class:"mb-2"},ue=s("label",null,"Jabatan",-1),ce=["disabled"],be={class:"mb-2"},he=s("label",null,"Alamat",-1),pe=["disabled"],_e={class:"card-footer border-top d-flex justify-content-between"},fe={key:0,class:"btn btn-sm btn-primary"},ve={key:1,class:"btn btn-sm btn-primary",type:"button",disabled:""},ge=s("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},null,-1);function ke(n,o,y,L,e,_){const p=P("router-link"),g=P("PageTitle"),U=P("Success");return r(),t(m,null,[f(a(n.user)+" ",1),v(g,{title:"Edit Pengguna API Pusat"},{default:k(()=>[s("ol",C,[s("li",D,[v(p,{to:{name:"Dashboard"}},{default:k(()=>[f("Dashboard")]),_:1})]),s("li",N,[v(p,{to:{name:"User Hub"}},{default:k(()=>[f("Admin Pusat")]),_:1})]),E])]),_:1}),s("div",F,[s("form",{onSubmit:o[9]||(o[9]=S((...i)=>_.handleSubmit&&_.handleSubmit(...i),["prevent"]))},[s("div",M,[s("div",A,[I,u(s("input",{type:"number",class:c(["form-validation form-control",{"is-invalid":e.errors.nip}]),"onUpdate:modelValue":o[0]||(o[0]=i=>e.form.nip=i),disabled:e.isLoading},null,10,j),[[h,e.form.nip]]),e.errors.nip?(r(!0),t(m,{key:0},b(e.errors.nip,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",J,[z,u(s("input",{type:"text",class:c(["form-validation form-control",{"is-invalid":e.errors.name}]),"onUpdate:modelValue":o[1]||(o[1]=i=>e.form.name=i),disabled:e.isLoading},null,10,K),[[h,e.form.name]]),e.errors.name?(r(!0),t(m,{key:0},b(e.errors.name,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",q,[G,u(s("input",{type:"text",class:c(["form-validation form-control",{"is-invalid":e.errors.email}]),"onUpdate:modelValue":o[2]||(o[2]=i=>e.form.email=i),disabled:e.isLoading},null,10,O),[[h,e.form.email]]),e.errors.email?(r(!0),t(m,{key:0},b(e.errors.email,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",Q,[R,u(s("input",{type:"number",class:c(["form-validation form-control",{"is-invalid":e.errors.phone}]),"onUpdate:modelValue":o[3]||(o[3]=i=>e.form.phone=i),disabled:e.isLoading},null,10,W),[[h,e.form.phone]]),e.errors.phone?(r(!0),t(m,{key:0},b(e.errors.phone,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",X,[Y,u(s("input",{type:"text",class:c(["form-validation form-control",{"is-invalid":e.errors.birthPlace}]),"onUpdate:modelValue":o[4]||(o[4]=i=>e.form.birthPlace=i),disabled:e.isLoading},null,10,Z),[[h,e.form.birthPlace]]),e.errors.birthPlace?(r(!0),t(m,{key:0},b(e.errors.birthPlace,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",ee,[se,u(s("input",{type:"date",class:c(["form-validation form-control",{"is-invalid":e.errors.dateBirth}]),"onUpdate:modelValue":o[5]||(o[5]=i=>e.form.dateBirth=i),disabled:e.isLoading},null,10,ie),[[h,e.form.dateBirth]]),e.errors.dateBirth?(r(!0),t(m,{key:0},b(e.errors.dateBirth,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",oe,[re,u(s("select",{class:c(["form-validation form-select",{"is-invalid":e.errors.gender}]),"onUpdate:modelValue":o[6]||(o[6]=i=>e.form.gender=i),disabled:e.isLoading},ae,10,te),[[T,e.form.gender]]),e.errors.gender?(r(!0),t(m,{key:0},b(e.errors.gender,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",me,[ue,u(s("input",{type:"text",class:c(["form-validation form-control",{"is-invalid":e.errors.position}]),"onUpdate:modelValue":o[7]||(o[7]=i=>e.form.position=i),disabled:e.isLoading},null,10,ce),[[h,e.form.position]]),e.errors.position?(r(!0),t(m,{key:0},b(e.errors.position,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)]),s("div",be,[he,u(s("textarea",{class:c(["form-validation form-control",{"is-invalid":e.errors.address}]),"onUpdate:modelValue":o[8]||(o[8]=i=>e.form.address=i),disabled:e.isLoading},`
                    `,10,pe),[[h,e.form.address]]),e.errors.address?(r(!0),t(m,{key:0},b(e.errors.address,(i,l)=>(r(),t("div",{class:"invalid-feedback",key:l},a(i)+". ",1))),128)):d("",!0)])]),s("div",_e,[v(p,{to:{name:"User Hub"},class:"btn btn-sm btn-secondary",disabled:e.isLoading},{default:k(()=>[f("Batal")]),_:1},8,["disabled"]),e.isLoading?d("",!0):(r(),t("button",fe," Simpan ")),e.isLoading?(r(),t("button",ve,[ge,f(" Harap Tunggu... ")])):d("",!0)])],32)]),v(U,{url:{name:"User Hub"},msg:e.msg},null,8,["msg"])],64)}const Ve=H(w,[["render",ke]]);export{Ve as default};
