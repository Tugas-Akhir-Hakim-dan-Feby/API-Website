import{P as y}from"./PageTitle-dd8cd3e7.js";import{L as k}from"./Loader-458840eb.js";import{P as C}from"./Pagination-2509a07d.js";import{U as P}from"./util-54581a61.js";import{S as H}from"./Success-7a258d69.js";import{_ as T,r as d,o as a,c as i,b as m,w as u,a as t,g as x,f as c,F as h,l as b,j as M,k as S,v as D,n as w,d as _,t as g}from"./app-0637055f.js";const N={data(){return{costs:[],cost:{},errors:{},form:{nominalPrice:""},isLoading:!1}},mounted(){this.getCosts()},methods:{getCosts(){this.isLoading=!0,this.$store.dispatch("getData",["cost",""]).then(e=>{this.isLoading=!1,this.costs=e.data}).catch(e=>{this.isLoading=!1})},getRupiah(e){return P.getRupiah(e)},setCost(e){this.cost=e},handleSubmit(){this.errors={},this.isLoading=!0,this.$store.dispatch("updateData",["cost",this.cost.uuid,this.form]).then(e=>{this.isLoading=!1,this.getCosts(),$("#editCost").modal("hide"),$("#successModal").modal("show")}).catch(e=>{this.isLoading=!1,this.errors=e.response.data.messages})}},components:{PageTitle:y,Pagination:C,Loader:k,Success:H}},V={class:"breadcrumb m-0"},B={class:"breadcrumb-item"},R=t("li",{class:"breadcrumb-item active"},"Data Harga",-1),E={class:"card position-relative"},U={class:"card-body"},F={class:"table-responsive"},J={class:"table table-hover table-bordered"},K=t("thead",null,[t("tr",null,[t("th",null,"No."),t("th",null,"Jenis Harga"),t("th",null,"Nominal Harga"),t("th",null,"Aksi")])],-1),j={key:0},z=t("td",{colspan:"4",class:"text-center"}," data harga tidak ada ",-1),A=[z],q=["innerHTML"],G=["innerHTML"],I=["innerHTML"],O=["onClick"],Q={class:"modal fade",id:"editCost",tabindex:"-1","aria-labelledby":"editCostLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"},W={class:"modal-dialog"},X={class:"modal-content"},Y=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"editCostLabel"},"Edit Harga")],-1),Z={class:"modal-body"},tt={class:"mb-3"},st=t("label",null,"Jenis Harga",-1),et=["value"],ot={class:"mb-3"},at=t("label",null,"Nominal Harga",-1),it=["disabled"],nt={class:"modal-footer"},rt=["disabled"],lt={key:0,class:"btn btn-sm btn-primary"},dt={key:1,class:"btn btn-sm btn-primary",type:"button",disabled:""},ct=t("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},null,-1);function mt(e,r,ht,_t,s,n){const p=d("router-link"),f=d("PageTitle"),v=d("Loader"),L=d("Success");return a(),i(h,null,[m(f,{title:"Data Harga"},{default:u(()=>[t("ol",V,[t("li",B,[m(p,{to:{name:"Dashboard"}},{default:u(()=>[_("Dashboard")]),_:1})]),R])]),_:1}),t("div",E,[s.isLoading?(a(),x(v,{key:0})):c("",!0),t("div",U,[t("div",F,[t("table",J,[K,t("tbody",null,[s.costs.length<1?(a(),i("tr",j,A)):(a(!0),i(h,{key:1},b(s.costs,(o,l)=>(a(),i("tr",{key:l},[t("th",{innerHTML:l+1},null,8,q),t("td",{innerHTML:o.typePrice},null,8,G),t("td",{innerHTML:n.getRupiah(o.nominalPrice)},null,8,I),t("td",null,[t("button",{class:"btn btn-warning text-white btn-sm me-2","data-bs-toggle":"modal","data-bs-target":"#editCost",onClick:ut=>n.setCost(o)}," Edit ",8,O)])]))),128))])])])])]),m(L,{msg:"data harga berhasil diperbaharui."}),t("div",Q,[t("div",W,[t("div",X,[Y,t("form",{onSubmit:r[1]||(r[1]=M((...o)=>n.handleSubmit&&n.handleSubmit(...o),["prevent"])),method:"post"},[t("div",Z,[t("div",tt,[st,t("input",{type:"text",disabled:"",class:"form-control",value:s.cost.typePrice},null,8,et)]),t("div",ot,[at,S(t("input",{type:"number",class:w(["form-control",{"is-invalid":s.errors.nominalPrice}]),"onUpdate:modelValue":r[0]||(r[0]=o=>s.form.nominalPrice=o),disabled:s.isLoading},null,10,it),[[D,s.form.nominalPrice]]),s.errors.nominalPrice?(a(!0),i(h,{key:0},b(s.errors.nominalPrice,(o,l)=>(a(),i("div",{class:"invalid-feedback",key:l},g(o),1))),128)):c("",!0),t("p",null,[_(" harga sebelumnya "),t("strong",null,g(n.getRupiah(s.cost.nominalPrice)),1)])])]),t("div",nt,[t("button",{type:"button",class:"btn btn-sm btn-secondary","data-bs-dismiss":"modal",disabled:s.isLoading}," Kembali ",8,rt),s.isLoading?c("",!0):(a(),i("button",lt," Kirim ")),s.isLoading?(a(),i("button",dt,[ct,_(" Harap Tunggu... ")])):c("",!0)])],32)])])])],64)}const yt=T(N,[["render",mt]]);export{yt as default};
