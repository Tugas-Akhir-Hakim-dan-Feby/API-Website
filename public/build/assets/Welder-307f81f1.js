import{P as w}from"./PageTitle-6608e5c7.js";import{S as C}from"./Success-1f5d5948.js";import{_ as P,r as f,o as r,c as i,b,a as s,k as p,v as _,n as c,F as d,l as m,t as h,f as a,p as k,m as I,w as L,d as g,j as B}from"./app-18f778da.js";const x={components:{PageTitle:w,Success:C},data(){return{form:{welderSkillId:"",residentIdCard:"",dateBirth:"",birthPlace:"",workingStatus:"",documentCertificateSchool:"",documentPasPhoto:"",documentCertificateCompetency:""},welderSkills:[],errors:{},isLoading:!1}},mounted(){this.getWelderSkills();let o=JSON.parse(localStorage.getItem("isPayment"));o&&(window.location.href="/invoice/"+o.externalId+"/welderMember")},computed:{formData(){let o=new FormData;return o.append("welder_skill_id",this.form.welderSkillId),o.append("resident_id_card",this.form.residentIdCard),o.append("date_birth",this.form.dateBirth),o.append("birth_place",this.form.birthPlace),o.append("working_status",this.form.workingStatus),o.append("document_certificate_school",this.form.documentCertificateSchool),o.append("document_pas_photo",this.form.documentPasPhoto),o.append("document_certificate_competency",this.form.documentCertificateCompetency),o}},methods:{onBack(){this.$router.push({name:"Member"})},getWelderSkills(){this.$store.dispatch("getData",["skill/welder",{}]).then(o=>{this.welderSkills=o.data}).catch(o=>{})},handleSubmit(){this.isLoading=!0,this.$store.dispatch("postDataUpload",["user/welder-member",this.formData]).then(o=>{this.isLoading=!1,localStorage.setItem("isPayment",JSON.stringify({paymentType:"welderMember",externalId:o.data.externalId})),window.location.href="/invoice/"+o.data.externalId+"/welderMember"}).catch(o=>{this.isLoading=!1,this.errors=o.response.data.messages,o.response.data.status=="ERROR"&&o.response.data.statusCode==500&&(this.isError=!0,this.msg=o.response.data.message)})},uploadCertificateSchool(o){this.form.documentCertificateSchool=o.target.files[0]},uploadPasPhoto(o){this.form.documentPasPhoto=o.target.files[0]},uploadCertificateCompetency(o){this.form.documentCertificateCompetency=o.target.files[0]}}},M={class:"card"},T={class:"card-body"},D={class:"mb-3"},V=s("label",null,"NIK",-1),N=["disabled"],U={class:"mb-3"},F=s("label",null,"Tempat Lahir",-1),O=["disabled"],K={class:"mb-3"},R=s("label",null,"Tanggal Lahir",-1),W=["disabled"],j={class:"mb-3"},E=s("label",null,"Status Bekerja",-1),H={class:"form-check"},J=["disabled"],z=s("label",{class:"form-check-label"}," Ya ",-1),Y={class:"form-check"},q=["disabled"],A=s("label",{class:"form-check-label"}," Tidak ",-1),G={class:"mb-3"},Q=s("label",null,"Jenis Kompetensi",-1),X=["disabled"],Z=s("option",{disabled:"",selected:""},null,-1),$=["value","innerHTML"],ee={class:"mb-3"},te=s("label",null,"Pas Foto Formal Berwarna",-1),se=["disabled"],oe={class:"mb-3"},re=s("label",null,"Sertifikat Pelatihan/Kompetensi Keahlian Pengelasan ",-1),ie=["disabled"],le={class:"card-footer border-top d-flex justify-content-between"},ne={key:0,class:"btn btn-sm btn-primary"},de={key:1,class:"btn btn-sm btn-primary",type:"button",disabled:""},ae=s("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},null,-1);function ce(o,l,me,ue,e,u){const v=f("PageTitle"),y=f("router-link"),S=f("Success");return r(),i(d,null,[b(v,{title:"Daftar Member Welder",isBack:!0,onOnBack:u.onBack},null,8,["onOnBack"]),s("form",{onSubmit:l[8]||(l[8]=B((...t)=>u.handleSubmit&&u.handleSubmit(...t),["prevent"])),method:"post"},[s("div",M,[s("div",T,[s("div",D,[V,p(s("input",{type:"text",class:c(["form-control",{"is-invalid":e.errors.residentIdCard}]),"onUpdate:modelValue":l[0]||(l[0]=t=>e.form.residentIdCard=t),disabled:e.isLoading},null,10,N),[[_,e.form.residentIdCard]]),e.errors.residentIdCard?(r(!0),i(d,{key:0},m(e.errors.residentIdCard,(t,n)=>(r(),i("div",{class:"invalid-feedback",key:n},h(t)+". ",1))),128)):a("",!0)]),s("div",U,[F,p(s("input",{type:"text",class:c(["form-control",{"is-invalid":e.errors.birthPlace}]),"onUpdate:modelValue":l[1]||(l[1]=t=>e.form.birthPlace=t),disabled:e.isLoading},null,10,O),[[_,e.form.birthPlace]]),e.errors.birthPlace?(r(!0),i(d,{key:0},m(e.errors.birthPlace,(t,n)=>(r(),i("div",{class:"invalid-feedback",key:n},h(t)+". ",1))),128)):a("",!0)]),s("div",K,[R,p(s("input",{type:"date",class:c(["form-control",{"is-invalid":e.errors.dateBirth}]),"onUpdate:modelValue":l[2]||(l[2]=t=>e.form.dateBirth=t),disabled:e.isLoading},null,10,W),[[_,e.form.dateBirth]]),e.errors.dateBirth?(r(!0),i(d,{key:0},m(e.errors.dateBirth,(t,n)=>(r(),i("div",{class:"invalid-feedback",key:n},h(t)+". ",1))),128)):a("",!0)]),s("div",j,[E,s("div",H,[p(s("input",{class:c(["form-check-input",{"is-invalid":e.errors.workingStatus}]),type:"radio",value:"1","onUpdate:modelValue":l[3]||(l[3]=t=>e.form.workingStatus=t),disabled:e.isLoading},null,10,J),[[k,e.form.workingStatus]]),z]),s("div",Y,[p(s("input",{class:c(["form-check-input",{"is-invalid":e.errors.workingStatus}]),type:"radio",value:"0","onUpdate:modelValue":l[4]||(l[4]=t=>e.form.workingStatus=t),disabled:e.isLoading},null,10,q),[[k,e.form.workingStatus]]),A]),e.errors.workingStatus?(r(!0),i(d,{key:0},m(e.errors.workingStatus,(t,n)=>(r(),i("div",{class:"invalid-feedback",key:n},h(t)+". ",1))),128)):a("",!0)]),s("div",G,[Q,p(s("select",{class:c(["form-select",{"is-invalid":e.errors.welderSkillId}]),"onUpdate:modelValue":l[5]||(l[5]=t=>e.form.welderSkillId=t),disabled:e.isLoading},[Z,(r(!0),i(d,null,m(e.welderSkills,(t,n)=>(r(),i("option",{key:n,value:t.uuid,innerHTML:t.skillName},null,8,$))),128))],10,X),[[I,e.form.welderSkillId]]),e.errors.welderSkillId?(r(!0),i(d,{key:0},m(e.errors.welderSkillId,(t,n)=>(r(),i("div",{class:"invalid-feedback",key:n},h(t)+". ",1))),128)):a("",!0)]),s("div",ee,[te,s("input",{type:"file",class:c(["form-control",{"is-invalid":e.errors.documentPasPhoto}]),disabled:e.isLoading,onChange:l[6]||(l[6]=(...t)=>u.uploadPasPhoto&&u.uploadPasPhoto(...t))},null,42,se),e.errors.documentPasPhoto?(r(!0),i(d,{key:0},m(e.errors.documentPasPhoto,(t,n)=>(r(),i("div",{class:"invalid-feedback",key:n},h(t)+". ",1))),128)):a("",!0)]),s("div",oe,[re,s("input",{type:"file",class:c(["form-control",{"is-invalid":e.errors.documentCertificateCompetency}]),disabled:e.isLoading,onChange:l[7]||(l[7]=(...t)=>u.uploadCertificateCompetency&&u.uploadCertificateCompetency(...t))},null,42,ie),e.errors.documentCertificateCompetency?(r(!0),i(d,{key:0},m(e.errors.documentCertificateCompetency,(t,n)=>(r(),i("div",{class:"invalid-feedback",key:n},h(t)+". ",1))),128)):a("",!0)])]),s("div",le,[b(y,{to:{name:"Member"},class:"btn btn-sm btn-secondary",disabled:e.isLoading},{default:L(()=>[g("Batal")]),_:1},8,["disabled"]),e.isLoading?a("",!0):(r(),i("button",ne," Simpan ")),e.isLoading?(r(),i("button",de,[ae,g(" Harap Tunggu... ")])):a("",!0)])])],32),b(S,{url:{name:"Dashboard"},msg:"data berhasil diregistrasi."},null,8,["msg"])],64)}const be=P(x,[["render",ce]]);export{be as default};
