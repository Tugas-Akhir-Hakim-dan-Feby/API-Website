import{E as C}from"./Error-a701181b.js";import{S as E}from"./Success-8789b882.js";import{P as S}from"./PageTitle-78e8a2ae.js";import{_ as B,r as c,o as i,c as n,a as t,b as a,w as m,d as b,g as w,f as u,j as x,k as D,v as L,n as g,F as _,l as f,t as p,u as V}from"./app-4e61fff3.js";const N={data(){return{msg:"",isError:!1,isLoading:!1,errors:{},form:{articleTitle:"",articleContent:"",document:null}}},computed:{formData(){let s=new FormData;return s.append("article_title",this.form.articleTitle),s.append("article_content",this.form.articleContent),s.append("document",this.form.document),s}},methods:{handleSubmit(){this.isLoading=!0,this.errors={},this.$store.dispatch("postDataUpload",["article",this.formData]).then(s=>{this.isLoading=!1,$("#successModal").modal("show"),this.msg="data berhasil ditambahkan."}).catch(s=>{this.isLoading=!1,this.errors=s.response.data.messages,s.response.data.status=="ERROR"&&s.response.data.statusCode==500&&(this.isError=!0,this.msg=s.response.data.message)})},uploadThumbnail(s){this.form.document=s.target.files[0]}},components:{PageTitle:S,Success:E,Error:C}},P={class:""},U={class:"breadcrumb m-0"},z={class:"breadcrumb-item"},A={class:"breadcrumb-item"},F=t("li",{class:"breadcrumb-item active"},"Tambah Berita",-1),M={class:"card"},R={class:"card-body"},j={class:"mb-2"},Q=t("label",null,"Judul Berita",-1),G=["disabled"],J={class:"mb-2"},K=t("label",null,"Konten Berita",-1),O={class:"mb-2"},q=t("label",null,"Upload Gambar",-1),H=["disabled"],I={class:"card-footer d-flex justify-content-between"},W=t("button",{class:"btn btn-sm btn-success"},"Simpan",-1);function X(s,r,Y,Z,e,d){const h=c("router-link"),v=c("PageTitle"),y=c("Error"),T=c("QuillEditor"),k=c("Success");return i(),n(_,null,[t("div",P,[a(v,{title:"Tambah Berita"},{default:m(()=>[t("ol",U,[t("li",z,[a(h,{to:{name:"Dashboard"}},{default:m(()=>[b("Dashboard")]),_:1})]),t("li",A,[a(h,{to:{name:"Article"}},{default:m(()=>[b("Berita")]),_:1})]),F])]),_:1}),e.isError?(i(),w(y,{key:0,message:e.msg},null,8,["message"])):u("",!0),t("form",{onSubmit:r[3]||(r[3]=x((...o)=>d.handleSubmit&&d.handleSubmit(...o),["prevent"]))},[t("div",M,[t("div",R,[t("div",j,[Q,D(t("input",{type:"text",class:g(["form-control",{"is-invalid":e.errors.articleTitle}]),"onUpdate:modelValue":r[0]||(r[0]=o=>e.form.articleTitle=o),disabled:e.isLoading},null,10,G),[[L,e.form.articleTitle]]),e.errors.articleTitle?(i(!0),n(_,{key:0},f(e.errors.articleTitle,(o,l)=>(i(),n("div",{class:"invalid-feedback",key:l},p(o)+". ",1))),128)):u("",!0)]),t("div",J,[K,a(T,{theme:"snow",toolbar:"essential",style:V([{height:"300px"},{borderColor:e.errors.articleContent?"#fa5c7c":""}]),content:e.form.articleContent,"onUpdate:content":r[1]||(r[1]=o=>e.form.articleContent=o),contentType:"html"},null,8,["style","content"]),e.errors.articleContent?(i(!0),n(_,{key:0},f(e.errors.articleContent,(o,l)=>(i(),n("div",{style:{width:"100%","margin-top":"0.25rem","font-size":"0.75rem",color:"#fa5c7c"},key:l},p(o)+". ",1))),128)):u("",!0)]),t("div",O,[q,t("input",{type:"file",class:g(["form-control",{"is-invalid":e.errors.document}]),onChange:r[2]||(r[2]=(...o)=>d.uploadThumbnail&&d.uploadThumbnail(...o)),disabled:e.isLoading},null,42,H),e.errors.document?(i(!0),n(_,{key:0},f(e.errors.document,(o,l)=>(i(),n("div",{class:"invalid-feedback",key:l},p(o)+". ",1))),128)):u("",!0)])]),t("div",I,[a(h,{to:{name:"Article"},class:"btn btn-sm btn-secondary"},{default:m(()=>[b("Batal")]),_:1}),W])])],32)]),a(k,{url:{name:"Article"},msg:e.msg},null,8,["msg"])],64)}const re=B(N,[["render",X]]);export{re as default};
