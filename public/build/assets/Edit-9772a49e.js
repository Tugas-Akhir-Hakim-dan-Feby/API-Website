import{P as D}from"./PageTitle-7562df40.js";import{S as L}from"./Success-4d6c84cb.js";import{d as T}from"./id-31fcb1a5.js";import{_ as B,r as f,o as l,c as i,b as p,w as k,a as o,d as y,k as _,m as v,n as u,F as a,l as d,t as m,f as c,v as g,u as M,j as V,B as x}from"./app-b56b39b4.js";const I={props:["id"],data(){return{isLoading:!1,welderSkills:[],form:{welderSkillId:"",workType:"",placement:"",salary:"",deadline:"",description:"",documentPamphlet:null},errors:{},minDate:new Date().toISOString().split("T")[0]}},computed:{formData(){let t=new FormData;return t.append("welder_skill_id",this.form.welderSkillId),t.append("work_type",this.form.workType),t.append("placement",this.form.placement),t.append("salary",this.form.salary),t.append("deadline",this.form.deadline),t.append("description",this.form.description),this.form.documentPamphlet&&t.append("document_pamphlet",this.form.documentPamphlet),t.append("_method","put"),t}},mounted(){this.getWelderSkills(),this.getJobVacancy()},methods:{setForm(t){var r;this.form={welderSkillId:(r=t.welderSkill)==null?void 0:r.uuid,workType:t.workType,placement:t.placement,salary:t.salary,deadline:this.getDeadline(t.deadline),description:t.description,pamphlet:t.pamphlet}},getWelderSkills(){this.$store.dispatch("getData",["skill/welder",""]).then(t=>{this.welderSkills=t.data}).catch(t=>{})},getJobVacancy(){this.isLoading=!0,this.$store.dispatch("showData",["job-vacancy",this.id]).then(t=>{this.isLoading=!1,this.setForm(t.data)}).catch(t=>{this.isLoading=!1})},getDeadline(t){return T(t).locale("id").format("YYYY-MM-DD")},handleSubmit(){this.errors={},this.isLoading=!0,this.$store.dispatch("postDataUpload",["job-vacancy/"+this.id,this.formData]).then(t=>{this.isLoading=!1,$("#successModal").modal("show")}).catch(t=>{this.isLoading=!1,this.errors=t.response.data.messages})},onBack(){this.$router.push({name:"Job Vacancy"})},uploadDocumentPamphlet(t){this.form.documentPamphlet=t.target.files[0]}},components:{PageTitle:D,Success:L}},J={class:"breadcrumb m-0"},C={class:"breadcrumb-item"},U={class:"breadcrumb-item"},W=o("li",{class:"breadcrumb-item active"},"Tambah Lowongan",-1),E={class:"card"},N={class:"card-body"},F={class:"mb-2"},Y=o("label",null,"Jenis Lowongan",-1),j=["disabled"],z=o("option",{disabled:"",selected:""},null,-1),K=["value","innerHTML"],O={class:"mb-2"},H=o("label",null,"Jenis Pekerjaan",-1),Q=["disabled"],G=x('<option disabled selected></option><option value="Penuh Waktu">Penuh Waktu</option><option value="Paruh Waktu">Paruh Waktu</option><option value="Kontrak">Kontrak</option><option value="Magang">Magang</option>',5),q=[G],A={class:"mb-2"},R=o("label",null,"Penempatan Kerja",-1),X=["disabled"],Z={class:"mb-2"},ee=o("label",null,"Perkiraan Gaji",-1),se=["disabled"],te={class:"mb-2"},oe=o("label",null,"Waktu Penutupan",-1),re=["disabled","min"],le={class:"mb-2"},ie=o("label",null,"Deskripsi Pekerjaan",-1),ne={class:"mb-2"},ae=o("label",null,"Brosur Lowongan",-1),de=["disabled"],ce={key:0,class:"mb-2"},me=["src","alt"],pe={class:"card-footer d-flex justify-content-between"},ue=o("button",{class:"btn btn-sm btn-success"},"Simpan",-1);function he(t,r,_e,fe,e,h){const b=f("router-link"),w=f("PageTitle"),S=f("QuillEditor"),P=f("Success");return l(),i(a,null,[p(w,{title:"Edit Lowongan",isBack:!0,onOnBack:h.onBack},{default:k(()=>[o("ol",J,[o("li",C,[p(b,{to:{name:"Dashboard"}},{default:k(()=>[y("Dashboard")]),_:1})]),o("li",U,[p(b,{to:{name:"Job Vacancy"}},{default:k(()=>[y("Edit Lowongan")]),_:1})]),W])]),_:1},8,["onOnBack"]),o("form",{onSubmit:r[7]||(r[7]=V((...s)=>h.handleSubmit&&h.handleSubmit(...s),["prevent"])),method:"post"},[o("div",E,[o("div",N,[o("div",F,[Y,_(o("select",{class:u(["form-select",{"is-invalid":e.errors.welderSkillId}]),"onUpdate:modelValue":r[0]||(r[0]=s=>e.form.welderSkillId=s),disabled:e.isLoading},[z,(l(!0),i(a,null,d(e.welderSkills,(s,n)=>(l(),i("option",{value:s.uuid,key:n,innerHTML:s.skillName},null,8,K))),128))],10,j),[[v,e.form.welderSkillId]]),e.errors.welderSkillId?(l(!0),i(a,{key:0},d(e.errors.welderSkillId,(s,n)=>(l(),i("div",{class:"invalid-feedback",key:n},m(s)+". ",1))),128)):c("",!0)]),o("div",O,[H,_(o("select",{class:u(["form-select",{"is-invalid":e.errors.workType}]),"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.workType=s),disabled:e.isLoading},q,10,Q),[[v,e.form.workType]]),e.errors.workType?(l(!0),i(a,{key:0},d(e.errors.workType,(s,n)=>(l(),i("div",{class:"invalid-feedback",key:n},m(s)+". ",1))),128)):c("",!0)]),o("div",A,[R,_(o("input",{type:"text",class:u(["form-control",{"is-invalid":e.errors.placement}]),"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.placement=s),disabled:e.isLoading},null,10,X),[[g,e.form.placement]]),e.errors.placement?(l(!0),i(a,{key:0},d(e.errors.placement,(s,n)=>(l(),i("div",{class:"invalid-feedback",key:n},m(s)+". ",1))),128)):c("",!0)]),o("div",Z,[ee,_(o("input",{type:"number",class:u(["form-control",{"is-invalid":e.errors.salary}]),"onUpdate:modelValue":r[3]||(r[3]=s=>e.form.salary=s),disabled:e.isLoading},null,10,se),[[g,e.form.salary]]),e.errors.salary?(l(!0),i(a,{key:0},d(e.errors.salary,(s,n)=>(l(),i("div",{class:"invalid-feedback",key:n},m(s)+". ",1))),128)):c("",!0)]),o("div",te,[oe,_(o("input",{type:"date",class:u(["form-control",{"is-invalid":e.errors.deadline}]),"onUpdate:modelValue":r[4]||(r[4]=s=>e.form.deadline=s),disabled:e.isLoading,min:e.minDate},null,10,re),[[g,e.form.deadline]]),e.errors.deadline?(l(!0),i(a,{key:0},d(e.errors.deadline,(s,n)=>(l(),i("div",{class:"invalid-feedback",key:n},m(s)+". ",1))),128)):c("",!0)]),o("div",le,[ie,p(S,{theme:"snow",toolbar:"essential",style:M([{height:"300px"},{borderColor:e.errors.articleContent?"#fa5c7c":""}]),contentType:"html",content:e.form.description,"onUpdate:content":r[5]||(r[5]=s=>e.form.description=s)},null,8,["content","style"]),e.errors.description?(l(!0),i(a,{key:0},d(e.errors.description,(s,n)=>(l(),i("div",{style:{width:"100%","margin-top":"0.25rem","font-size":"0.75rem",color:"#fa5c7c"},key:n},m(s)+". ",1))),128)):c("",!0)]),o("div",ne,[ae,o("input",{type:"file",class:u(["form-control",{"is-invalid":e.errors.documentPamphlet}]),onChange:r[6]||(r[6]=(...s)=>h.uploadDocumentPamphlet&&h.uploadDocumentPamphlet(...s)),disabled:e.isLoading},null,42,de),e.errors.documentPamphlet?(l(!0),i(a,{key:0},d(e.errors.documentPamphlet,(s,n)=>(l(),i("div",{class:"invalid-feedback",key:n},m(s)+". ",1))),128)):c("",!0)]),e.form.pamphlet?(l(),i("div",ce,[o("img",{src:e.form.pamphlet,alt:e.form.pamphlet,class:"img-fluid",height:"250"},null,8,me)])):c("",!0)]),o("div",pe,[p(b,{to:{name:"Job Vacancy"},class:"btn btn-sm btn-secondary"},{default:k(()=>[y("Batal")]),_:1}),ue])])],32),p(P,{url:{name:"Job Vacancy"},msg:"data berhasil diperbaharui."},null,8,["msg"])],64)}const ve=B(I,[["render",he]]);export{ve as default};
