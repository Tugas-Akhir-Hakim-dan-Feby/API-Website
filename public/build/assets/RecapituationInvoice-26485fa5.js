import{P as D}from"./PageTitle-01df425d.js";import{L as x}from"./Loader-c4a25092.js";import{P as I}from"./Pagination-19014d10.js";import{P as y}from"./pagination-8c4016f1.js";import{U as L}from"./util-54581a61.js";import{_ as C,r,o as l,c,b as d,w as m,a as t,g as N,f as S,k as f,m as T,v as w,F as b,l as R,d as u,t as i,n as V}from"./app-ecfa6876.js";const U={data(){return{invoices:[],metaPagination:{},pagination:{perPage:10,page:1},filters:{search:"",status:"",sortDirection:"desc"},isLoading:!1}},mounted(){this.getInovices()},methods:{iteration(a){return y.iteration(a,this.metaPagination)},getInovices(){this.isLoading=!0;const a=[`per_page=${this.pagination.perPage}`,`page=${this.pagination.page}`,`search=${this.filters.search}`,`status=${this.filters.status}`,`sort_direction=${this.filters.sortDirection}`].join("&");this.$store.dispatch("getData",["payment",a]).then(s=>{this.isLoading=!1,this.invoices=s.data,this.metaPagination=s.meta}).catch(s=>{this.isLoading=!1})},getRupiah(a){return L.getRupiah(a)},onSearch(){setTimeout(()=>{this.getInovices()},1e3)},onPageChange(a){this.pagination.page=a,this.getInovices()},onStatusChange(){this.getInovices()}},components:{PageTitle:D,Pagination:I,Loader:x}},A={class:"breadcrumb m-0"},B={class:"breadcrumb-item"},E=t("li",{class:"breadcrumb-item active"},"Data Rekapitulasi Faktur",-1),F={class:"card position-relative"},M={class:"card-body"},j={class:"d-md-flex d-block justify-content-end align-items-center mb-2"},z={class:"d-md-flex justify-content-between align-items-center"},G={class:"me-md-2 me-0 mb-md-0 mb-2"},H=t("option",{value:""},"pilih status",-1),K=t("option",{value:"PAID"},"PAID",-1),O=t("option",{value:"PENDING"},"PENDING",-1),q=[H,K,O],J={class:"me-md-2 me-0"},Q={class:"table-responsive"},W={class:"table table-hover table-bordered"},X=t("thead",null,[t("tr",null,[t("th",null,"No."),t("th",null,"Nama Pengguna"),t("th",null,"Email Pengguna"),t("th",null,"Deskripsi"),t("th",null,"Aksi")])],-1),Y={key:0},Z=t("td",{colspan:"5",class:"text-center"}," data rekapitulasi faktur tidak ada ",-1),$=[Z],tt=["innerHTML"],et=t("br",null,null,-1),st={class:"text-muted"},at=t("br",null,null,-1),nt={class:"text-muted"},ot=t("br",null,null,-1),it={class:"text-muted"};function lt(a,s,rt,ct,n,o){const h=r("router-link"),P=r("PageTitle"),v=r("Loader"),k=r("Pagination");return l(),c(b,null,[d(P,{title:"Data Rekapitulasi Faktur"},{default:m(()=>[t("ol",A,[t("li",B,[d(h,{to:{name:"Dashboard"}},{default:m(()=>[u("Dashboard")]),_:1})]),E])]),_:1}),t("div",F,[n.isLoading?(l(),N(v,{key:0})):S("",!0),t("div",M,[t("div",j,[t("div",z,[t("div",G,[f(t("select",{class:"form-select",onChange:s[0]||(s[0]=e=>o.onStatusChange()),"onUpdate:modelValue":s[1]||(s[1]=e=>n.filters.status=e)},q,544),[[T,n.filters.status]])]),t("div",J,[f(t("input",{type:"search",class:"form-control",placeholder:"pencarian",onInput:s[2]||(s[2]=(...e)=>o.onSearch&&o.onSearch(...e)),"onUpdate:modelValue":s[3]||(s[3]=e=>n.filters.search=e)},null,544),[[w,n.filters.search]])]),d(k,{pagination:n.metaPagination,onOnPageChange:s[4]||(s[4]=e=>o.onPageChange(e))},null,8,["pagination"])])]),t("div",Q,[t("table",W,[X,t("tbody",null,[n.invoices.length<1?(l(),c("tr",Y,$)):(l(!0),c(b,{key:1},R(n.invoices,(e,_)=>{var g,p;return l(),c("tr",{key:_},[t("th",{innerHTML:o.iteration(_)},null,8,tt),t("td",null,i((g=e.user)==null?void 0:g.name),1),t("td",null,i((p=e.user)==null?void 0:p.email),1),t("td",null,[u(i(e.description)+" ",1),et,t("small",st,"Kode: "+i(e.externalId),1),at,t("small",nt,"Total: "+i(o.getRupiah(e.amount)),1),ot,t("small",it,[u("Status: "),t("span",{class:V(["badge",e.status=="PAID"?"bg-success":"bg-warning"]),style:{"font-size":"0.8em"}},i(e.status),3)])]),t("td",null,[d(h,{to:{name:"Show Payment Recapitulation",params:{externalId:e.externalId}},class:"btn btn-info text-white btn-sm me-2"},{default:m(()=>[u(" Detail ")]),_:2},1032,["to"])])])}),128))])])])])])],64)}const pt=C(U,[["render",lt]]);export{pt as default};
