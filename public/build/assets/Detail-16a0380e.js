import{L}from"./Loader-7d641b73.js";import{P as D}from"./PageTitle-58c23235.js";import{C as v}from"./Confirm-21da95b7.js";import{S as w}from"./Success-8d26ff00.js";import{E as C}from"./Edit-a93929e6.js";import{_ as M,r as n,o as a,c as i,b as c,w as r,a as e,d as h,g as u,f as l,F as b,l as S}from"./app-dd65cc79.js";import"./id-64e25b75.js";const T={props:["id"],data(){return{examPacket:null,errors:{},date:null,isLoading:!1,examId:null,msg:""}},beforeMount(){this.id&&this.getExamPacket()},mounted(){},methods:{getExamPacket(){this.isLoading=!0,this.$store.dispatch("showData",["exam-packet",this.id]).then(t=>{this.isLoading=!1,this.examPacket=t.data,Object.assign(this.examPacket,{date:t.data.schedule.slice(0,10)})}).catch(t=>{this.isLoading=!1})},handleDeleteExam(t){this.examId=t,$("#confirmModal").modal("show")},onDeleteExam(){this.$store.dispatch("deleteData",["exam",this.examId]).then(t=>{this.isLoading=!1,this.msg="data berhasil dihapus.",this.getExamPacket(),$("#confirmModal").modal("hide"),$("#successModal").modal("show")}).catch(t=>{this.isLoading=!1,this.errors=t.response.data.messages})},onSuccessEdit(){this.getExamPacket(),this.msg="data berhasil diperbaharui.",$("#successModal").modal("show")},onBack(t){this.$router.push({name:"Exam Packet"})}},components:{PageTitle:D,Success:w,Edit:C,Confirm:v,Loader:L}},B={class:"breadcrumb m-0"},O={class:"breadcrumb-item"},H={class:"breadcrumb-item"},N=e("span",null," Uji Kompetensi ",-1),I=e("li",{class:"breadcrumb-item active"},"Detail Paket",-1),V={class:"card"},j={class:"card-header d-flex justify-content-between align-items-center"},F=e("h4",null,"Daftar Pertanyaan",-1),q={class:"card-body position-relative"},A={class:"table-responsive"},K={class:"table table-bordered table-hover"},U=e("thead",null,[e("tr",null,[e("th",null,"No."),e("th",null,"Pertanyaan"),e("th",null,"Aksi")])],-1),z={key:0},G=e("td",{colspan:"3",class:"text-center"}," data pertanyaan tidak ada ",-1),J=[G],Q=["innerHTML"],R=["innerHTML"],W=["onClick"];function X(t,_,x,Y,s,d){var k;const m=n("router-link"),f=n("PageTitle"),g=n("Edit"),P=n("Loader"),E=n("Success"),y=n("Confirm");return a(),i(b,null,[c(f,{title:`Detail Paket ${s.examPacket.name}`,isBack:!0,onOnBack:_[0]||(_[0]=o=>d.onBack(o))},{default:r(()=>[e("ol",B,[e("li",O,[c(m,{to:{name:"Dashboard"}},{default:r(()=>[h("Dashboard")]),_:1})]),e("li",H,[c(m,{to:{name:"Exam Packet"}},{default:r(()=>[N]),_:1})]),I])]),_:1},8,["title"]),s.examPacket?(a(),u(g,{key:0,examPacket:s.examPacket,onOnSuccessEdit:d.onSuccessEdit,edit:!0,isShowParticipant:!0},null,8,["examPacket","onOnSuccessEdit"])):l("",!0),e("div",V,[e("div",j,[F,e("div",null,[t.$can("create","Exam")?(a(),u(m,{key:0,to:{name:"Exam Create",params:{id:x.id}},class:"btn btn-sm btn-primary"},{default:r(()=>[h("Tambah Pertanyaan")]),_:1},8,["to"])):l("",!0)])]),e("div",q,[s.isLoading?(a(),u(P,{key:0})):l("",!0),e("div",A,[e("table",K,[U,e("tbody",null,[((k=s.examPacket.exams)==null?void 0:k.length)<1?(a(),i("tr",z,J)):(a(!0),i(b,{key:1},S(s.examPacket.exams,(o,p)=>(a(),i("tr",{key:p},[e("th",{innerHTML:p+1},null,8,Q),e("td",{innerHTML:o.question},null,8,R),e("td",null,[t.$can("update","Exam")?(a(),u(m,{key:0,to:{name:"Exam Edit",params:{id:s.examPacket.uuid,examId:o.uuid}},class:"btn btn-warning btn-sm me-2 text-white"},{default:r(()=>[h(" Edit ")]),_:2},1032,["to"])):l("",!0),t.$can("delete","Exam")?(a(),i("button",{key:1,class:"btn btn-danger btn-sm",onClick:Z=>d.handleDeleteExam(o.uuid)}," Hapus ",8,W)):l("",!0)])]))),128))])])])])]),c(E,{msg:s.msg},null,8,["msg"]),c(y,{onOnDelete:d.onDeleteExam},null,8,["onOnDelete"])],64)}const ce=M(T,[["render",X]]);export{ce as default};
