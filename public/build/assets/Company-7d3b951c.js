import{P as k}from"./PageTitle-6608e5c7.js";import{_ as L,r as b,o as r,c as i,b as _,a as s,k as y,v as f,n as d,F as m,l as c,t as p,f as l,w as C,d as h,j as P}from"./app-18f778da.js";const D={data(){return{form:{companyName:"",companyDirector:"",companyAddress:"",companyProfile:"",companyEmail:"",phone:"",facsmile:"",documentCompanyLegality:"",documentCompanyLogo:""},welderSkills:[],errors:{},isLoading:!1}},mounted(){let n=JSON.parse(localStorage.getItem("isPayment"));n&&(window.location.href="/invoice/"+n.externalId+"/companyMember")},computed:{formData(){let n=new FormData;return n.append("company_name",this.form.companyName),n.append("company_director",this.form.companyDirector),n.append("company_address",this.form.companyAddress),n.append("company_profile",this.form.companyProfile),n.append("company_email",this.form.companyEmail),n.append("phone",this.form.phone),n.append("facsmile",this.form.facsmile),n.append("document_company_legality",this.form.documentCompanyLegality),n.append("document_company_logo",this.form.documentCompanyLogo),n}},methods:{onBack(){this.$router.push({name:"Member"})},handleSubmit(){this.isLoading=!0,this.$store.dispatch("postDataUpload",["user/company-member",this.formData]).then(n=>{this.isLoading=!1,localStorage.setItem("isPayment",JSON.stringify({paymentType:"companyMember",externalId:n.data.externalId})),window.location.href="/invoice/"+n.data.externalId+"/companyMember"}).catch(n=>{this.isLoading=!1,this.errors=n.response.data.messages,n.response.data.status=="ERROR"&&n.response.data.statusCode==500&&(this.isError=!0,this.msg=n.response.data.message)})},uploadDocumentCompanyLegality(n){this.form.documentCompanyLegality=n.target.files[0]},uploadDocumentCompanyLogo(n){this.form.documentCompanyLogo=n.target.files[0]}},components:{PageTitle:k}},x={class:"card"},N={class:"card-body"},w={class:"mb-3"},E=s("label",null,"Nama Perusahaan",-1),S=["disabled"],V={class:"mb-3"},B=s("label",null,"Penanggung Jawab",-1),A=["disabled"],M={class:"mb-3"},T=s("label",null,"Alamat Perusahaan",-1),U=["disabled"],I={class:"mb-3"},O=s("label",null,"Profil Perusahaan",-1),F=["disabled"],J={class:"mb-3"},R=s("label",null,"No Telepon",-1),j=["disabled"],z={class:"mb-3"},H=s("label",null,"No Fax",-1),q=["disabled"],G={class:"mb-3"},K=s("label",null,"Email Perusahaan",-1),Q=["disabled"],W={class:"mb-3"},X=s("label",null,"Legalitas Perusahaan",-1),Y=["disabled"],Z={class:"mb-3"},$=s("label",null,"Logo Perusahaan",-1),ee=["disabled"],oe={class:"card-footer border-top d-flex justify-content-between"},se={key:0,class:"btn btn-sm btn-primary"},ne={key:1,class:"btn btn-sm btn-primary",type:"button",disabled:""},re=s("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},null,-1);function ie(n,t,te,ae,e,u){const g=b("PageTitle"),v=b("router-link");return r(),i(m,null,[_(g,{title:"Daftar Member Company",isBack:!0,onOnBack:u.onBack},null,8,["onOnBack"]),s("form",{onSubmit:t[9]||(t[9]=P((...o)=>u.handleSubmit&&u.handleSubmit(...o),["prevent"])),method:"post"},[s("div",x,[s("div",N,[s("div",w,[E,y(s("input",{type:"text",class:d(["form-control",{"is-invalid":e.errors.companyName}]),"onUpdate:modelValue":t[0]||(t[0]=o=>e.form.companyName=o),disabled:e.isLoading},null,10,S),[[f,e.form.companyName]]),e.errors.companyName?(r(!0),i(m,{key:0},c(e.errors.companyName,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",V,[B,y(s("input",{type:"text",class:d(["form-control",{"is-invalid":e.errors.companyDirector}]),"onUpdate:modelValue":t[1]||(t[1]=o=>e.form.companyDirector=o),disabled:e.isLoading},null,10,A),[[f,e.form.companyDirector]]),e.errors.companyDirector?(r(!0),i(m,{key:0},c(e.errors.companyDirector,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",M,[T,y(s("input",{type:"text",class:d(["form-control",{"is-invalid":e.errors.companyAddress}]),"onUpdate:modelValue":t[2]||(t[2]=o=>e.form.companyAddress=o),disabled:e.isLoading},null,10,U),[[f,e.form.companyAddress]]),e.errors.companyAddress?(r(!0),i(m,{key:0},c(e.errors.companyAddress,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",I,[O,y(s("textarea",{class:d(["form-control",{"is-invalid":e.errors.companyProfile}]),"onUpdate:modelValue":t[3]||(t[3]=o=>e.form.companyProfile=o),disabled:e.isLoading},null,10,F),[[f,e.form.companyProfile]]),e.errors.companyProfile?(r(!0),i(m,{key:0},c(e.errors.companyProfile,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",J,[R,y(s("input",{type:"text",class:d(["form-control",{"is-invalid":e.errors.phone}]),"onUpdate:modelValue":t[4]||(t[4]=o=>e.form.phone=o),disabled:e.isLoading},null,10,j),[[f,e.form.phone]]),e.errors.phone?(r(!0),i(m,{key:0},c(e.errors.phone,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",z,[H,y(s("input",{type:"text",class:d(["form-control",{"is-invalid":e.errors.facsmile}]),"onUpdate:modelValue":t[5]||(t[5]=o=>e.form.facsmile=o),disabled:e.isLoading},null,10,q),[[f,e.form.facsmile]]),e.errors.facsmile?(r(!0),i(m,{key:0},c(e.errors.facsmile,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",G,[K,y(s("input",{type:"email",class:d(["form-control",{"is-invalid":e.errors.companyEmail}]),"onUpdate:modelValue":t[6]||(t[6]=o=>e.form.companyEmail=o),disabled:e.isLoading},null,10,Q),[[f,e.form.companyEmail]]),e.errors.companyEmail?(r(!0),i(m,{key:0},c(e.errors.companyEmail,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",W,[X,s("input",{type:"file",class:d(["form-control",{"is-invalid":e.errors.documentCompanyLegality}]),disabled:e.isLoading,onChange:t[7]||(t[7]=(...o)=>u.uploadDocumentCompanyLegality&&u.uploadDocumentCompanyLegality(...o))},null,42,Y),e.errors.documentCompanyLegality?(r(!0),i(m,{key:0},c(e.errors.documentCompanyLegality,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)]),s("div",Z,[$,s("input",{type:"file",class:d(["form-control",{"is-invalid":e.errors.documentCompanyLogo}]),disabled:e.isLoading,onChange:t[8]||(t[8]=(...o)=>u.uploadDocumentCompanyLogo&&u.uploadDocumentCompanyLogo(...o))},null,42,ee),e.errors.documentCompanyLogo?(r(!0),i(m,{key:0},c(e.errors.documentCompanyLogo,(o,a)=>(r(),i("div",{class:"invalid-feedback",key:a},p(o)+". ",1))),128)):l("",!0)])]),s("div",oe,[_(v,{to:{name:"Member"},class:"btn btn-sm btn-secondary",disabled:e.isLoading},{default:C(()=>[h("Batal")]),_:1},8,["disabled"]),e.isLoading?l("",!0):(r(),i("button",se," Simpan ")),e.isLoading?(r(),i("button",ne,[re,h(" Harap Tunggu... ")])):l("",!0)])])],32)],64)}const de=L(D,[["render",ie]]);export{de as default};
