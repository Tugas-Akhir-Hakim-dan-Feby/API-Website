import{P}from"./PageTitle-58c23235.js";import{S as v}from"./Success-8d26ff00.js";import{M as E,T as A}from"./TrueFalse-5b80b79c.js";import{U as C,A as p}from"./util-54581a61.js";import{_ as F,r as d,o as n,c,b as i,w as m,a as s,d as _,k as w,v as b,n as M,F as g,l as S,t as q,f as u,g as y,j as I}from"./app-dd65cc79.js";const U={props:["id","examId"],data(){return{form:{examPacketId:this.id,question:"",correctAnswer:"",answers:[],answerType:""},errors:{},isLoading:!1}},mounted(){this.getExam()},computed:{answerTypeData(){return C.getAnswerQuestionData(this.form.answerType)}},methods:{getMultipleChoiceData(){return p.MULTIPLE_CHOICE},getTrueFalseData(){return p.TRUE_FALSE},setForm(t){var r;this.form.examPacketId=this.id,this.form.question=t.question,this.form.correctAnswer=(r=t.correctAnswer)==null?void 0:r.answer,this.form.answerType=t.type,t.answers.forEach((l,f)=>{this.form.answers[f]=l.answer})},getExam(){this.isLoading=!0,this.$store.dispatch("showData",["exam",this.examId]).then(t=>{this.isLoading=!1,this.setForm(t.data)}).catch(t=>{this.isLoading=!1})},handleSubmit(){this.isLoading=!0,this.$store.dispatch("updateData",["exam",this.examId,this.form]).then(t=>{this.isLoading=!1,$("#successModal").modal("show")}).catch(t=>{this.isLoading=!1,this.errors=t.response.data.messages})},answerTrueFalse(t){this.form.answers=t[0],this.form.correctAnswer=t[1]},answerMultipleChoice(t){this.form.answers=t[0],this.form.correctAnswer=t[1]}},components:{PageTitle:P,Success:v,MultipleChoice:E,TrueFalse:A}},V={class:"breadcrumb m-0"},B={class:"breadcrumb-item"},N={class:"breadcrumb-item"},j=s("span",null," Uji Kompetensi ",-1),H={class:"breadcrumb-item"},O=s("span",null," Detail Paket ",-1),Q=s("li",{class:"breadcrumb-item active"},"Edit Pertanyaan",-1),z={class:"card"},J={class:"card-body"},K={class:"mb-2"},R=s("label",{for:"question"},"Pertanyaan",-1),G=["disabled"],W={class:"mb-2"},X=s("label",null,"Pilih Tipe Jawaban",-1),Y={class:"card-footer d-flex justify-content-between"},Z={key:0,class:"btn btn-sm btn-success"},ee={key:1,class:"btn btn-sm btn-success",type:"button",disabled:""},se=s("span",{class:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"},null,-1);function te(t,r,l,f,e,o){const h=d("router-link"),T=d("PageTitle"),k=d("MultipleChoice"),x=d("TrueFalse"),D=d("Success");return n(),c(g,null,[i(T,{title:"Edit Pertanyaan"},{default:m(()=>[s("ol",V,[s("li",B,[i(h,{to:{name:"Dashboard"}},{default:m(()=>[_("Dashboard")]),_:1})]),s("li",N,[i(h,{to:{name:"Exam Packet"}},{default:m(()=>[j]),_:1})]),s("li",H,[i(h,{to:{name:"Exam Packet Detail",params:{id:l.id}}},{default:m(()=>[O]),_:1},8,["to"])]),Q])]),_:1}),s("form",{onSubmit:r[4]||(r[4]=I((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"])),method:"post"},[s("div",z,[s("div",J,[s("div",K,[R,w(s("textarea",{id:"question",class:M(["form-control form-validation",{"is-invalid":e.errors.question}]),"onUpdate:modelValue":r[0]||(r[0]=a=>e.form.question=a),disabled:e.isLoading,rows:"3"},null,10,G),[[b,e.form.question]]),e.errors.question?(n(!0),c(g,{key:0},S(e.errors.question,(a,L)=>(n(),c("div",{class:"invalid-feedback",key:L},q(a)+". ",1))),128)):u("",!0)]),s("div",W,[X,w(s("input",{type:"text",class:"form-control","onUpdate:modelValue":r[1]||(r[1]=a=>o.answerTypeData=a),disabled:"",readonly:""},null,512),[[b,o.answerTypeData]])]),e.form.answerType==o.getMultipleChoiceData()?(n(),y(k,{key:0,onOnAnswers:r[2]||(r[2]=a=>o.answerMultipleChoice(a)),"answers-data":e.form.answers,"correct-answer-data":e.form.correctAnswer,errors:e.errors,"is-loading":e.isLoading,"is-edit":!0},null,8,["answers-data","correct-answer-data","errors","is-loading"])):u("",!0),e.form.answerType==o.getTrueFalseData()?(n(),y(x,{key:1,onAnswers:r[3]||(r[3]=a=>o.answerTrueFalse(a)),"answers-data":e.form.answers,"correct-answer-data":e.form.correctAnswer,errors:e.errors,"is-loading":e.isLoading,"is-edit":!0},null,8,["answers-data","correct-answer-data","errors","is-loading"])):u("",!0)]),s("div",Y,[i(h,{class:"btn btn-sm btn-secondary",to:{name:"Exam Packet Detail",params:{id:l.id}},disabled:e.isLoading},{default:m(()=>[_(" Batal ")]),_:1},8,["to","disabled"]),e.isLoading?u("",!0):(n(),c("button",Z," Simpan ")),e.isLoading?(n(),c("button",ee,[se,_(" Harap Tunggu... ")])):u("",!0)])])],32),i(D,{url:{name:"Exam Packet Detail",params:{id:l.id}},msg:"data berhasil diperbaharui."},null,8,["url","msg"])],64)}const le=F(U,[["render",te]]);export{le as default};
